<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="learn to navigate the waves of technological advancement. with specialized one on one tutoring.">
	<meta name="author" content="ethan merchant">
	<title>tech tutoring</title>
  <link rel="stylesheet" href="/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://embed.twitch.tv/embed/v1.js"></script>
</head>

<body>
	<div class="profile">
		<div class="profile-back"><img class="profile-pic" src="profile-pic.png"></div>
		<div class="profile-desc">
			<div class="h2">ethan merchant</div>
			<div class="p"><a href="https://github.com/spatialfree">@spatialfree</a></div>
			<div class="p" style="margin-bottom: 0;"><a href="https://dofdev.org"><img src="dofdev-icon.png" width="32px" /></a></div>
		</div>
	</div>
	<br>
	<div class="h1">// tech tutoring</div>
	<div class="p">getting tossed around by the waves of technological revolutions, compromises your autonomy. by guiding you through these complex systems and mental structures, you can ride them instead.</div>

  <div class="h2">project based:</div>
  <div class="p">example > personal > professional</div>

  <div class="h2">autonomous:</div>
	<div class="p">engage with real world hurdles, not just school devised hoops</div>

  <div class="h2">specialized in:</div>
	<div class="p">fullstack, vr/ar, c#, gamedev, crypto(web3), ai...</div>

  <div class="h2">all ages:</div>
	<div class="p">a confident yet humble interest is all you need to learn</div>
	<br><br><br>
  <form action="https://api.staticforms.xyz/submit" method="post">
    <div id="calender"></div><br>
    student: <select name="$student" id="student" onchange="studentSelect(this)"></select>
    <div id="new-student">
      name<br>
      <input type="text" name="name" placeholder="student name"><br>
      email<br>
      <input type="text" name="email" placeholder="name@example.com"><br>
      phone<br>
      <input type="text" name="phone" placeholder="(206)782-8410"><br>
    </div>
    <div id="current-student"></div>
    + sessions: <select name="$sessions">
      <option value="01">01 * $20/hr = $20</option>
      <option value="04">04 * $19/hr = $76</option>
      <option value="08">08 * $18/hr = $144</option>
      <option value="16">16 * $17/hr = $272</option>
      <option value="32">32 * $16/hr = $512</option>
    </select><br>
    notes<br>
    <textarea name="message" rows="4"></textarea><br>
    <a href="/policy" target="_blank">attendance policy</a><br><br>
    <input type="hidden" name="accessKey" value="8185dd6e-7902-46f0-9c2e-edf845220b3e">
    <input type="hidden" name="replyTo" value="@">
    <input type="text" name="honeypot" style="display: none;">
    <input type="hidden" name="redirectTo" value="https://ethanmerchant.com/ty">
    <input type="submit" value="submit" />
  </form>
	<br><br><br>
	<div class="p">*sessions are streamed live for transparency and security</div>
	<br>
	<div class="vid" id="twitch-embed"></div>

	<div id="footer">&copy; 2021 ethan merchant</div>
</body>

<script>
  const dotw = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday']
	
  // seperate file?
	const students = [
    { name:"jj", 
      sessions:32, streak:1, 
      times:[{day:5, hour:5}, {day:5, hour:6}]
    },
    { name:"shresta", 
      sessions:02, streak:0, 
      times:[{day:1, hour:4}]
    },
    { name:"samshita",
      sessions:00, streak:0,
      times:[{day:3, hour:4}]
    },
    { name:"gitika", 
      sessions:01, streak:0, 
      times:[{day:3, hour:5}]
    },
    { name:"samanyu",
      sessions:01, streak:0,
      times:[{day:4, hour:4}]
    },
    { name:"gaurav",
      sessions:01, streak:0,
      times:[{day:4, hour:5}]
    },
    { name:"praneel",
      sessions:01, streak:0,
      times:[{day:4, hour:6}]
    },
  ]

	$(document).ready(function() {
    let html = ""
    html += `<option value="new">new</option>`
    for (let i = 0; i < students.length; i++) {
      html += `<option value="${students[i].name}">${students[i].name}</option>`
    }
    $("#student").html(html)

    studentSelect(document.getElementById("student"))
	})

  var student
  function studentSelect(el) {
    student = el.value;
    let html = ""
    if (student == "new") {
      $("#new-student").show()
    } else {
      $("#new-student").hide()
      for (s of students) {
        if (s.name == student) {
          html += `sessions remaining: ${s.sessions}<br>`
          html += `attendance streak: ${s.streak}<br><br>`
        }
      }
    }
    $("#current-student").html(html)
    calender()
  }

	function calender() {
		let html = ""
    for (let i = 0; i < dotw.length; i++) {
      html += `<div class="day">`
      html += `<div class="date">&nbsp;${dotw[i]}</div>`
      html += `<div class="hours">`
      html += `<label class="check">4<input type="checkbox" ${status(i, 4)} name="$${dotw[i]+4}"><span class="checkmark"></span></label>`
      html += `<label class="check">5<input type="checkbox" ${status(i, 5)} name="$${dotw[i]+5}"><span class="checkmark"></span></label>`
      html += `<label class="check">6<input type="checkbox" ${status(i, 6)} name="$${dotw[i]+6}"><span class="checkmark"></span></label>`
      html += `</div>`
      html += `</div>`
    }
    
		$('#calender').html(html)
	}

  function status(day, hour) {
    for (let i = 0; i < students.length; i++) {
      for (let j = 0; j < students[i].times.length; j++) {
        if (students[i].times[j].day == day && students[i].times[j].hour == hour) {
          if (students[i].name == student) {
            return "checked"
          } else {
            return "disabled"
          }
        }
      }
    }
    return "";
  }
	
	var embed = new Twitch.Embed("twitch-embed", {
		width: 854,
		height: 480,
		channel: "spatialfree",
		layout: "video",
		muted: false,
		autoplay: false
	})

	embed.addEventListener(Twitch.Embed.VIDEO_READY, () => {
		var player = embed.getPlayer()
		player.play()
	})
</script>
