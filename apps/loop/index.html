<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css?v10">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="/include/includer.js?v10"></script>
  <script src="/weekly.js"></script>
</head>

<body style="display: flex; flex-flow: column; justify-content: center; align-items: center;">
  <div class="l1" id="in">in</div>
  
  <div>&#127813;</div>
  <div style="color: var(--accent); font-weight: bold;">
    4(<span style="color: var(--black);">30</span><span style="color: var(--white);"> -5</span>)
  </div>
  <div>me
    <input type="text" onfocusin="set(this)" onfocusout="store(this, 0)" autocomplete="off" >
  </div>
  <div>we
    <input type="text" onfocusin="set(this)" onfocusout="store(this, 1)" autocomplete="off">
  </div>
  <div>ve
    <input type="text" onfocusin="set(this)" onfocusout="store(this, 2)" autocomplete="off">
    <div id="clients">today's clients == null</div>
  </div>
  
  <br>
  <div>&vdash; &nbsp; median &nbsp; &dashv;</div>
  <br>
  
  <div>&#127814;</div>
  <div style="color: var(--color); font-weight: bold;">
    4(<span style="color: var(--white);">30</span><span style="color: var(--black);"> -5</span>)
  </div>
  <div>free
    <input type="text" onfocusin="set(this)" onfocusout="store(this, 3)" autocomplete="off">
  </div>
  <div>fuel
    <input type="text" onfocusin="set(this)" onfocusout="store(this, 4)" autocomplete="off">
  </div>
  <div>fade
    <input type="text" onfocusin="set(this)" onfocusout="store(this, 5)" autocomplete="off">
  </div>
  
  <div class="l1" id="out">out</div>
  <h1>loop</h1>
</body>

<script>
  $(document).ready(function() {
    $inputs = $('input');
    for (let i = 0; i < $inputs.length; i++) {
      $inputs[i].value = localStorage.getItem(i)
    }

    const d = new Date()
    let day = d.getDay()
    let html = `<br>today's clients:<br>`
    for (let i = 0; i < clients.length; i++) {
      let client = clients[i]
      for (let j = 0; j < client.times.length; j++) {
        if (client.times[j].day == day) {
          console.log(client)
          // name
          html += `<sub>${client.name}:${client.times[j].hour}</sub><br>`
        }
      }
    }
    
    html += `<br>followthrough:<br>`
    let yesterday = day - 1
    if (yesterday < 0) {
      yesterday = 6
    }
    for (let i = 0; i < clients.length; i++) {
      let client = clients[i]
      for (let j = 0; j < client.times.length; j++) {
        if (client.times[j].day == yesterday) {
          console.log(client)
          // name
          html += `<sub>${client.name}:${client.times[j].hour}</sub><br>`
        }
      }
    }

    $('#clients').html(html)
  })

  function set(el) {
    // set border color green
    el.style.borderColor = 'green';
  }
  
  function store(el, index) {
    el.style.borderColor = '#c0c0c0'

    var val = el.value;
    localStorage.setItem(index, val)
  }
</script>

<style>
  .l1 {
    font-size: 2em;
    font-weight: bold;
    margin: 1em;
    padding: 0.5em 1em;
  }

  #in {
    color: var(--dark);
    background-color: var(--light);
  }

  #out {
    color: var(--light);
    background-color: var(--dark);
  }
</style>